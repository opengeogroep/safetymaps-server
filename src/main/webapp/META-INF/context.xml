<?xml version="1.0" encoding="UTF-8"?>
<Context antiJARLocking="true" path="/safetymaps-server">
  <!-- Paste this in tomcat/conf/server.xml with the correct settings. Restart tomcat. This has to be done once.
    
        <Resource 
            name="jdbc/safetymaps-server"
            auth="Container"
            type="javax.sql.DataSource"
            username="<dbuser>"
            password="<dbpassword>"
            driverClassName="org.postgresql.Driver"
            url="jdbc:postgresql://<server>:<port>/<dbname>"
            maxActive="40"
            validationQuery="select 1"
            timeBetweenEvictionRunsMillis="30000"
            minEvictableIdleTimeMillis="5000"
        />

        Repeat for filesetsync and nlextract-bag databases.
    -->
  <ResourceLink global="jdbc/safetymaps-server" name="jdbc/safetymaps-server" type="javax.sql.DataSource"/>
  <ResourceLink global="jdbc/filesetsync-server" name="jdbc/filesetsync-server" type="javax.sql.DataSource"/>

  <ResourceLink global="jdbc/nlextract-bag" name="jdbc/nlextract-bag" type="javax.sql.DataSource"/>

  <!-- Place javax.mail.jar in Tomcat lib and add this to tomcat/conf/server.xml
    <Resource name="mail/session" auth="Container" type="javax.mail.Session" mail.smtp.host="ip here" />
  -->
  <ResourceLink global="mail/session" name="mail/session" type="javax.mail.Session"/>
</Context>
